[gd_scene load_steps=8 format=2]

[ext_resource path="res://gameplay/coin/Material_001.material" type="Material" id=1]
[ext_resource path="res://gameplay/coin/coin_spawn.wav" type="AudioStream" id=2]
[ext_resource path="res://gameplay/coin/coin_normal.png" type="Texture" id=3]

[sub_resource type="GDScript" id=3]
script/source = "#------------------------------------------------------------------------------------
#       .                                                   *
#  _               _       _   _  *                   .                     
# | |__   __ _ ___| |_ ___| |_( )___                                 ,:.            +
# | '_ \\ / _` / __| __/ _ \\ __|// __|        *                       ,xo.               
# | |_) | (_| \\__ \\ ||  __/ |_  \\__ \\                                ,kKc      
# |_.__/ \\__,_|___/\\__\\___|\\__| |___/     .                         .c0Wo      
#  _       _                _       _   _          +              .;xXNc      
# | | __ _| |__  _   _ _ __(_)_ __ | |_| |__                     .:dKNx.     * 
# | |/ _` | '_ \\| | | | '__| | '_ \\| __| '_ \\                  .;dOKNO'       
# | | (_| | |_) | |_| | |  | | | | | |_| | | |             ..,lx0XNOc.        
# |_|\\__,_|_.__/ \\__, |_|  |_|_| |_|\\__|_| |_|        .';coxOKKX0xc.                . 
#                |___/                                  .':ccc;..      .               
#                     .            =^..^=               
#
#    This file is part of the game Bastet's Labyrinth.
#
#    Bastet's Labyrinth is free software: you can redistribute it and/or modify 
#    it under the terms of the GNU General Public License as published by the 
#    Free Software Foundation, either version 3 of the License, or (at your 
#    option) any later version.
#
#    Bastet's Labyrinth is distributed in the hope that it will be useful, but 
#    WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
#    or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for 
#    more details.
#
#    You should have received a copy of the GNU General Public License along 
#    with Bastet's Labyrinth. If not, see <https://www.gnu.org/licenses/>. 
#

extends Spatial

#--- ANIM VARS -----------------------------------------------------------------

var anim_clock : int = 0;

#--- FUNCTIONS -----------------------------------------------------------------

func _ready():
    var tmp_scn = preload(\"res://gameplay/particle/coin_particle.tscn\");
    add_child(tmp_scn.instance());
    add_child(tmp_scn.instance());
    add_child(tmp_scn.instance());
    add_child(tmp_scn.instance());
    add_child(tmp_scn.instance());

    $coin_visible.rotation_degrees.x = rand_range(80,100);
    $coin_visible.rotation.y = rand_range(-PI,PI);
    anim_clock = 0;
    $audio_spawn.play();
    return;

#-------------------------------------------------------------------------------

func _process(_ignore):
    anim_clock += 1;
    $coin_visible.translation.y = 1.0 + (sin(anim_clock/30.0)*0.3333);
    $coin_visible.rotation.y += 0.0175;
    pass
"

[sub_resource type="ArrayMesh" id=2]
resource_name = "coin_Cylinder"
surfaces/0 = {
"aabb": AABB( -0.566264, -0.125, -0.575, 1.13253, 0.25, 1.15 ),
"array_data": PoolByteArray( 24, 108, 65, 48, 0, 0, 0, 190, 51, 51, 19, 191, 0, 129, 129, 63, 208, 56, 53, 28, 24, 108, 65, 48, 0, 0, 0, 62, 51, 51, 19, 191, 0, 127, 127, 63, 141, 50, 226, 35, 168, 97, 73, 62, 0, 0, 0, 190, 160, 82, 10, 191, 0, 129, 130, 63, 61, 56, 138, 39, 168, 97, 73, 62, 0, 0, 0, 62, 160, 82, 10, 191, 0, 127, 126, 63, 104, 52, 31, 41, 151, 60, 189, 62, 0, 0, 0, 190, 3, 134, 225, 190, 0, 129, 130, 63, 120, 55, 142, 46, 151, 60, 189, 62, 0, 0, 0, 62, 3, 134, 225, 190, 0, 127, 126, 63, 104, 53, 25, 47, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 190, 0, 129, 130, 63, 184, 54, 219, 50, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 190, 0, 127, 126, 63, 37, 54, 6, 51, 181, 246, 16, 63, 0, 0, 0, 190, 237, 124, 204, 189, 0, 129, 129, 63, 82, 54, 159, 53, 181, 246, 16, 63, 0, 0, 0, 62, 237, 124, 204, 189, 0, 127, 126, 63, 138, 54, 164, 53, 181, 246, 16, 63, 0, 0, 0, 190, 239, 124, 204, 61, 0, 129, 129, 63, 82, 54, 245, 55, 181, 246, 16, 63, 0, 0, 0, 62, 239, 124, 204, 61, 0, 127, 126, 63, 138, 54, 233, 55, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 62, 0, 129, 130, 63, 184, 54, 19, 57, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 62, 0, 127, 126, 63, 37, 54, 5, 57, 151, 60, 189, 62, 0, 0, 0, 190, 3, 134, 225, 62, 0, 129, 129, 63, 120, 55, 248, 57, 151, 60, 189, 62, 0, 0, 0, 62, 3, 134, 225, 62, 0, 127, 127, 63, 104, 53, 227, 57, 168, 97, 73, 62, 0, 0, 0, 190, 160, 82, 10, 63, 0, 129, 129, 63, 61, 56, 142, 58, 168, 97, 73, 62, 0, 0, 0, 62, 160, 82, 10, 63, 0, 127, 126, 63, 104, 52, 117, 58, 24, 108, 65, 48, 0, 0, 0, 190, 51, 51, 19, 63, 0, 129, 129, 63, 208, 56, 193, 58, 24, 108, 65, 48, 0, 0, 0, 62, 51, 51, 19, 63, 0, 127, 127, 63, 141, 50, 167, 58, 168, 97, 73, 190, 0, 0, 0, 190, 160, 82, 10, 63, 0, 129, 130, 63, 100, 57, 142, 58, 168, 97, 73, 190, 0, 0, 0, 62, 160, 82, 10, 63, 0, 127, 127, 63, 72, 48, 117, 58, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 62, 0, 129, 130, 63, 229, 57, 248, 57, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 62, 0, 127, 126, 63, 147, 44, 227, 57, 56, 245, 254, 190, 0, 0, 0, 190, 50, 51, 147, 62, 0, 129, 129, 63, 69, 58, 19, 57, 56, 245, 254, 190, 0, 0, 0, 62, 50, 51, 147, 62, 0, 127, 127, 63, 118, 38, 5, 57, 181, 246, 16, 191, 0, 0, 0, 190, 239, 124, 204, 61, 0, 129, 129, 63, 120, 58, 245, 55, 181, 246, 16, 191, 0, 0, 0, 62, 239, 124, 204, 61, 0, 127, 127, 63, 43, 17, 233, 55, 181, 246, 16, 191, 0, 0, 0, 190, 237, 124, 204, 189, 0, 129, 130, 63, 120, 58, 159, 53, 181, 246, 16, 191, 0, 0, 0, 62, 237, 124, 204, 189, 0, 127, 127, 63, 43, 17, 164, 53, 56, 245, 254, 190, 0, 0, 0, 190, 50, 51, 147, 190, 0, 129, 129, 63, 69, 58, 219, 50, 56, 245, 254, 190, 0, 0, 0, 62, 50, 51, 147, 190, 0, 127, 127, 63, 118, 38, 6, 51, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 190, 0, 129, 129, 63, 229, 57, 142, 46, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 190, 0, 127, 127, 63, 147, 44, 25, 47, 168, 97, 73, 190, 0, 0, 0, 190, 160, 82, 10, 191, 0, 129, 129, 63, 100, 57, 138, 39, 168, 97, 73, 190, 0, 0, 0, 62, 160, 82, 10, 191, 129, 93, 3, 1, 164, 58, 175, 49, 24, 108, 65, 48, 0, 0, 0, 190, 51, 51, 19, 191, 127, 127, 2, 1, 221, 59, 221, 52, 168, 97, 73, 62, 0, 0, 0, 190, 160, 82, 10, 191, 127, 93, 2, 1, 221, 59, 183, 55, 168, 97, 73, 62, 0, 0, 0, 62, 160, 82, 10, 191, 127, 93, 2, 1, 164, 58, 201, 55, 24, 108, 65, 48, 0, 0, 0, 62, 51, 51, 19, 191, 127, 127, 2, 1, 164, 58, 238, 52, 151, 60, 189, 62, 0, 0, 0, 190, 3, 134, 225, 190, 127, 69, 1, 1, 221, 59, 90, 57, 151, 60, 189, 62, 0, 0, 0, 190, 3, 134, 225, 190, 127, 69, 1, 1, 221, 59, 106, 57, 151, 60, 189, 62, 0, 0, 0, 62, 3, 134, 225, 190, 127, 69, 1, 1, 164, 58, 100, 57, 151, 60, 189, 62, 0, 0, 0, 62, 3, 134, 225, 190, 127, 69, 1, 1, 164, 58, 116, 57, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 190, 127, 46, 0, 1, 221, 59, 60, 59, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 190, 127, 46, 0, 1, 243, 59, 2, 58, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 190, 127, 46, 0, 1, 164, 58, 3, 58, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 190, 127, 46, 0, 1, 164, 58, 70, 59, 181, 246, 16, 63, 0, 0, 0, 190, 237, 124, 204, 189, 127, 19, 0, 1, 199, 59, 31, 56, 181, 246, 16, 63, 0, 0, 0, 190, 237, 124, 204, 189, 127, 19, 0, 1, 243, 59, 232, 59, 181, 246, 16, 63, 0, 0, 0, 62, 237, 124, 204, 189, 127, 19, 0, 1, 164, 58, 241, 59, 181, 246, 16, 63, 0, 0, 0, 62, 237, 124, 204, 189, 127, 19, 0, 1, 187, 58, 31, 56, 181, 246, 16, 63, 0, 0, 0, 190, 239, 124, 204, 61, 107, 0, 0, 1, 223, 59, 200, 57, 181, 246, 16, 63, 0, 0, 0, 62, 239, 124, 204, 61, 107, 0, 0, 1, 167, 58, 200, 57, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 62, 80, 0, 0, 1, 223, 59, 238, 59, 56, 245, 254, 62, 0, 0, 0, 190, 50, 51, 147, 62, 80, 0, 0, 1, 231, 59, 229, 155, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 62, 80, 0, 0, 1, 166, 58, 229, 155, 56, 245, 254, 62, 0, 0, 0, 62, 50, 51, 147, 62, 80, 0, 0, 1, 167, 58, 238, 59, 151, 60, 189, 62, 0, 0, 0, 190, 3, 134, 225, 62, 57, 0, 0, 1, 205, 59, 245, 49, 151, 60, 189, 62, 0, 0, 0, 62, 3, 134, 225, 62, 57, 0, 0, 1, 195, 58, 4, 50, 168, 97, 73, 62, 0, 0, 0, 190, 160, 82, 10, 63, 33, 0, 0, 1, 234, 59, 116, 54, 168, 97, 73, 62, 0, 0, 0, 62, 160, 82, 10, 63, 33, 0, 0, 1, 168, 58, 124, 54, 24, 108, 65, 48, 0, 0, 0, 190, 51, 51, 19, 63, 0, 0, 0, 1, 236, 59, 4, 57, 24, 108, 65, 48, 0, 0, 0, 62, 51, 51, 19, 63, 0, 0, 0, 1, 170, 58, 8, 57, 168, 97, 73, 190, 0, 0, 0, 190, 160, 82, 10, 63, 223, 0, 0, 1, 254, 59, 165, 58, 168, 97, 73, 190, 0, 0, 0, 62, 160, 82, 10, 63, 223, 0, 255, 1, 156, 58, 169, 58, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 62, 199, 0, 0, 1, 231, 59, 229, 155, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 62, 199, 0, 0, 1, 239, 59, 220, 59, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 62, 199, 0, 255, 1, 174, 58, 220, 59, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 62, 199, 0, 0, 1, 178, 58, 229, 155, 56, 245, 254, 190, 0, 0, 0, 190, 50, 51, 147, 62, 176, 0, 0, 1, 206, 59, 178, 48, 56, 245, 254, 190, 0, 0, 0, 62, 50, 51, 147, 62, 176, 0, 0, 1, 201, 58, 179, 48, 181, 246, 16, 191, 0, 0, 0, 190, 239, 124, 204, 61, 149, 0, 0, 1, 229, 59, 152, 53, 181, 246, 16, 191, 0, 0, 0, 62, 239, 124, 204, 61, 149, 0, 0, 1, 177, 58, 152, 53, 181, 246, 16, 191, 0, 0, 0, 190, 237, 124, 204, 189, 129, 19, 0, 1, 229, 59, 149, 56, 181, 246, 16, 191, 0, 0, 0, 62, 237, 124, 204, 189, 129, 19, 0, 1, 177, 58, 149, 56, 56, 245, 254, 190, 0, 0, 0, 190, 50, 51, 147, 190, 129, 46, 0, 1, 230, 59, 81, 58, 56, 245, 254, 190, 0, 0, 0, 62, 50, 51, 147, 190, 129, 46, 0, 1, 177, 58, 81, 58, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 190, 129, 69, 2, 1, 221, 59, 85, 158, 151, 60, 189, 190, 0, 0, 0, 190, 3, 134, 225, 190, 129, 69, 0, 1, 231, 59, 240, 59, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 190, 129, 69, 2, 1, 164, 58, 93, 153, 151, 60, 189, 190, 0, 0, 0, 62, 3, 134, 225, 190, 129, 69, 0, 1, 178, 58, 240, 59, 168, 97, 73, 190, 0, 0, 0, 190, 160, 82, 10, 191, 129, 93, 3, 1, 221, 59, 144, 49, 168, 97, 73, 190, 0, 0, 0, 62, 160, 82, 10, 191, 0, 127, 127, 63, 72, 48, 31, 41 ),
"array_index_data": PoolByteArray( 36, 0, 38, 0, 39, 0, 36, 0, 37, 0, 38, 0, 37, 0, 43, 0, 38, 0, 37, 0, 41, 0, 43, 0, 40, 0, 47, 0, 42, 0, 40, 0, 44, 0, 47, 0, 45, 0, 50, 0, 46, 0, 45, 0, 49, 0, 50, 0, 48, 0, 53, 0, 51, 0, 48, 0, 52, 0, 53, 0, 52, 0, 57, 0, 53, 0, 52, 0, 54, 0, 57, 0, 55, 0, 59, 0, 56, 0, 55, 0, 58, 0, 59, 0, 58, 0, 61, 0, 59, 0, 58, 0, 60, 0, 61, 0, 60, 0, 63, 0, 61, 0, 60, 0, 62, 0, 63, 0, 62, 0, 65, 0, 63, 0, 62, 0, 64, 0, 65, 0, 64, 0, 68, 0, 65, 0, 64, 0, 67, 0, 68, 0, 66, 0, 71, 0, 69, 0, 66, 0, 70, 0, 71, 0, 70, 0, 73, 0, 71, 0, 70, 0, 72, 0, 73, 0, 72, 0, 75, 0, 73, 0, 72, 0, 74, 0, 75, 0, 74, 0, 77, 0, 75, 0, 74, 0, 76, 0, 77, 0, 76, 0, 81, 0, 77, 0, 76, 0, 79, 0, 81, 0, 5, 0, 1, 0, 3, 0, 1, 0, 33, 0, 83, 0, 33, 0, 29, 0, 31, 0, 29, 0, 25, 0, 27, 0, 25, 0, 21, 0, 23, 0, 21, 0, 17, 0, 19, 0, 17, 0, 13, 0, 15, 0, 13, 0, 9, 0, 11, 0, 9, 0, 5, 0, 7, 0, 5, 0, 33, 0, 1, 0, 33, 0, 25, 0, 29, 0, 25, 0, 17, 0, 21, 0, 17, 0, 9, 0, 13, 0, 9, 0, 33, 0, 5, 0, 33, 0, 17, 0, 25, 0, 33, 0, 9, 0, 17, 0, 78, 0, 35, 0, 80, 0, 78, 0, 82, 0, 35, 0, 82, 0, 39, 0, 35, 0, 82, 0, 36, 0, 39, 0, 34, 0, 2, 0, 0, 0, 2, 0, 6, 0, 4, 0, 6, 0, 10, 0, 8, 0, 10, 0, 14, 0, 12, 0, 14, 0, 18, 0, 16, 0, 18, 0, 22, 0, 20, 0, 22, 0, 26, 0, 24, 0, 26, 0, 30, 0, 28, 0, 30, 0, 34, 0, 32, 0, 34, 0, 6, 0, 2, 0, 6, 0, 14, 0, 10, 0, 14, 0, 22, 0, 18, 0, 22, 0, 30, 0, 26, 0, 30, 0, 6, 0, 34, 0, 6, 0, 22, 0, 14, 0, 6, 0, 30, 0, 22, 0 ),
"blend_shape_data": [  ],
"format": 2194711,
"index_count": 204,
"material": ExtResource( 1 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 84
}

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.913725, 0.639216, 0.117647, 1 )
metallic = 1.0
metallic_specular = 0.0
roughness = 0.25
normal_enabled = true
normal_scale = 1.0
normal_texture = ExtResource( 3 )

[sub_resource type="CylinderShape" id=5]

[node name="coin" type="Spatial"]
script = SubResource( 3 )

[node name="coin_visible" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, -0.00434585, -0.999991, 0, 0.999991, -0.00434585, 0, 1.01537, 0 )
mesh = SubResource( 2 )
material/0 = SubResource( 4 )

[node name="Area" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
shape = SubResource( 5 )

[node name="audio_spawn" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 2 )
volume_db = 1.0
